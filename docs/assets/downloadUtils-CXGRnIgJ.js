let r="1.0.1";const a=async()=>{try{const o=await fetch("/build-info.json");if(o.ok){const n=await o.json();return r=n.version,n}}catch{console.log("Using fallback version:",r)}return{version:r}},s=async()=>{const o="/downloads",t=(await a()).version||r;return`${o}/Dingo Track-${t}-universal.dmg`},i=async()=>`Dingo Track-${(await a()).version||r}-universal.dmg`,c=async()=>{try{const o=await s(),n=await i();if(!(await fetch(o,{method:"HEAD"})).ok)throw new Error("DMG file not available yet. Please try again later.");const e=document.createElement("a");return e.href=o,e.download=n,document.body.appendChild(e),e.click(),document.body.removeChild(e),!0}catch(o){throw console.error("Download failed:",o),o}};export{c as d};
